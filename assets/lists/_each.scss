////
/// @group lists
////

/// Run a function on each item in a list
/// @name each
///
/// @param {String} $function - Name of the function
/// @param {List} $list - The list to be used
/// @param {Arguments} $args... - Arguments for the function
///
/// @return {List}
///
/// @example
///  $list: ('a', 'b', 'c');
///  each('str-insert', $list, 'x', 1)
///  // ('xa', 'xb', 'xc')

@function sg-each($function, $list, $args...) {
  $separator: list-separator($list);
  $newlist: ();

  @if type-of($list) != list { @error '#{$list} is not a list'; }
  @if function-exists($function) == false { @error 'Function #{$function}() does not exist!'; }

  @each $item in $list {
    $item: call($function, $item, $args);
    $newlist: append($newlist, $item, $separator);
  }

  @return $newlist;
}
